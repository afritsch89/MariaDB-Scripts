#!/bin/bash

# Database Maintenance Script

# Set MariaDB credentials
DB_USER="your_username"
DB_PASSWORD="your_password"

# Set the database name
DATABASE="your_database"

# Connect to the database and perform maintenance tasks
mysql -u "$DB_USER" -p"$DB_PASSWORD" "$DATABASE" <<EOF
    # Optimize all tables in the database
    OPTIMIZE TABLE \$(mysql -N -B -u "$DB_USER" -p"$DB_PASSWORD" -e "SHOW TABLES IN \`$DATABASE\`;")

    # Analyze all tables in the database to update statistics
    ANALYZE TABLE \$(mysql -N -B -u "$DB_USER" -p"$DB_PASSWORD" -e "SHOW TABLES IN \`$DATABASE\`;")

    # Check and repair all tables in the database
    REPAIR TABLE \$(mysql -N -B -u "$DB_USER" -p"$DB_PASSWORD" -e "SHOW TABLES IN \`$DATABASE\`;") EXTENDED
EOF
